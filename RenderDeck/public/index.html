<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>RenderDeck</title>
  <link rel="stylesheet" href="styles.css" />
  <script type="importmap">{
    "imports": {
      "three": "https://unpkg.com/three@0.175.0/build/three.module.js",
      "three/addons/": "https://unpkg.com/three@0.175.0/examples/jsm/"
    }
  }</script>
</head>

<body>
  <main>
    <!-- PREVIEW -->
    <div class="preview">
      <h1 class="site-name-header">RenderDeck</h1>
      
      <div class="scene-view">
        <h1>Scene Controls</h1>
        <div class="scene-view-placeholder">
          <div class="drop-hint">
            <p>Drag & Drop OBJ files here</p>
            <p class="drop-hint-small">or use the "Add Model" button below</p>
          </div>
        </div>
      </div>

      <div class="scene-settings">
        <h1>Scene Settings</h1>
        <ul>
          <li>
            <label for="texture-select">Texture:</label>
            <select id="texture-select">
              <option>Wood</option>
              <option>Metal</option>
              <option>Glass</option>
              <option>Plastic</option>
            </select>
          </li>
          <li>
            <label for="opacity-slider">Opacity:</label>
            <input type="range" id="opacity-slider" min="0" max="1" step="0.01" value="1.0">
            <span class="slider-value">1.0</span>
          </li>
          <li>
            <label for="roughness-slider">Roughness:</label>
            <input type="range" id="roughness-slider" min="0" max="1" step="0.01" value="0.5">
            <span class="slider-value">0.5</span>
          </li>
          <li>
            <label for="metalness-slider">Metalness:</label>
            <input type="range" id="metalness-slider" min="0" max="1" step="0.01" value="0.0">
            <span class="slider-value">0.0</span>
          </li>
          <li class="edit-texture-section">
            <button id="edit-texture-btn" class="edit-texture-button">
              ‚úèÔ∏è Edit Texture
            </button>
          </li>
        </ul>
      </div>
    </div>

    <!-- DEBUG -->
    <div class="debug">
      <h1>Debugging</h1>
      <p>Ready. Drag and drop OBJ files to add models.</p>
    </div>

    <!-- MODEL SELECT -->
    <div class="model-select-panel">
      <h1>Select Model</h1>
      <select id="model-select"></select>
      
      <!-- Upload 3D Model Button -->
      <div class="upload-controls">
        <button id="upload-model-btn" class="upload-button">
          üìÅ Upload 3D Model (.obj)
        </button>
        <input type="file" id="model-file-input" accept=".obj,.mtl,.png,.jpg,.jpeg" multiple style="display: none;">
        <p class="upload-hint" style="font-size: 0.9em; color: #666; margin: 5px 0;">
          Select .obj file + optional .mtl and textures, or drag & drop anywhere
        </p>
      </div>
      
      <!-- Custom Model Management -->
      <div class="upload-controls">
        <button id="export-btn" class="upload-button">
          üíæ Export Custom Model
        </button>
        <button id="import-btn" class="upload-button">
          üì• Import Custom Model
        </button>
        <button id="clear-custom-btn" class="upload-button">
          üóëÔ∏è Clear Custom Models
        </button>
        <input type="file" id="file-input" accept=".json,.renderdeck.json" style="display: none;">
      </div>
    </div>

    <!-- SCENE SELECT -->
    <div class="model-select-panel">
      <h1>Select Scene</h1>
      <select id="scene-select"></select>
    </div>

  </main>

  <!-- CRITICAL FIX: Changed from "main.js" to "js/main.js" -->
  <script type="module" src="js/main.js"></script>
</body>

</html>